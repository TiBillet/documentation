"use strict";(self.webpackChunktibillet=self.webpackChunktibillet||[]).push([[748],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),u=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,s=e.originalType,l=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),d=u(n),m=a,g=d["".concat(l,".").concat(m)]||d[m]||c[m]||s;return n?r.createElement(g,i(i({ref:t},p),{},{components:n})):r.createElement(g,i({ref:t},p))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var s=n.length,i=new Array(s);i[0]=d;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:a,i[1]=o;for(var u=2;u<s;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},7150:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>s,metadata:()=>o,toc:()=>u});var r=n(7462),a=(n(7294),n(3905));const s={slug:"federation-part2",title:"F\xe9d\xe9ration 2/3 - L'agenda partag\xe9",authors:"jonas",wiktags:["cashless","f\xe9d\xe9ration","portefeuille","waller"],image:"/img/federons/07-tenant-part1.png",description:"F\xe9d\xe9rons TiBillet, premi\xe8re partie."},i=void 0,o={permalink:"/blog/federation-part2",editUrl:"https://github.com/TiBillet/documentation/tree/main/tibillet/blog/2022-10-10-Federation-Part2.md",source:"@site/blog/2022-10-10-Federation-Part2.md",title:"F\xe9d\xe9ration 2/3 - L'agenda partag\xe9",description:"F\xe9d\xe9rons TiBillet, premi\xe8re partie.",date:"2022-10-10T00:00:00.000Z",formattedDate:"10 octobre 2022",tags:[],readingTime:1.79,hasTruncateMarker:!1,authors:[{name:"Jonas TURBEAUX",title:"Niveau 42.",url:"https://github.com/Nasjoe",imageURL:"https://avatars.githubusercontent.com/u/2736977?s=96&v=4",key:"jonas"}],frontMatter:{slug:"federation-part2",title:"F\xe9d\xe9ration 2/3 - L'agenda partag\xe9",authors:"jonas",wiktags:["cashless","f\xe9d\xe9ration","portefeuille","waller"],image:"/img/federons/07-tenant-part1.png",description:"F\xe9d\xe9rons TiBillet, premi\xe8re partie."},nextItem:{title:"F\xe9d\xe9ration 1/3 - Introduction",permalink:"/blog/federation-part1"}},l={authorsImageUrls:[void 0]},u=[{value:"Deconstruire pour decentraliser.",id:"deconstruire-pour-decentraliser",level:2},{value:"Premi\xe8re \xe9tape : L&#39;agenda f\xe9d\xe9r\xe9.",id:"premi\xe8re-\xe9tape--lagenda-f\xe9d\xe9r\xe9",level:2},{value:"Et ma carte dans tout \xe7a ?",id:"et-ma-carte-dans-tout-\xe7a-",level:2}],p={toc:u};function c(e){let{components:t,...s}=e;return(0,a.kt)("wrapper",(0,r.Z)({},p,s,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"deconstruire-pour-decentraliser"},"Deconstruire pour decentraliser."),(0,a.kt)("p",null,"Fini le gros bloc PHP.\nLa billetterie, qui s'occupe de g\xe9rer\nles paiements en ligne (recharge cashless via stripe),\nles r\xe9servations et les ventes de billet\na \xe9t\xe9 compl\xe8tement repens\xe9e."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"/img/federons/06-blockcentral.png",src:n(8138).Z,width:"763",height:"516"})),(0,a.kt)("h2",{id:"premi\xe8re-\xe9tape--lagenda-f\xe9d\xe9r\xe9"},"Premi\xe8re \xe9tape : L'agenda f\xe9d\xe9r\xe9."),(0,a.kt)("p",null,"En avant avec Django ! Le framework web en Python est d\xe9ja utilis\xe9 cot\xe9 cashless,\nnous avons tout repens\xe9 depuis la base pour faire un mod\xe8le\ndit de SaaS (Software as a service).\nL'id\xe9e est de pouvoir utiliser la puissance combin\xe9e du moteur\nde sch\xe9ma PostgreSQL pour des applications multi-tenant."),(0,a.kt)("p",null,"Derri\xe8re ce vocabulaire un peu barbare se cache une id\xe9e toute\nsimple : ",(0,a.kt)("strong",{parentName:"p"},"Un seul serveur pour g\xe9rer plusieurs instances")," qui se partagent des ",(0,a.kt)("strong",{parentName:"p"},"informations communes.")),(0,a.kt)("p",null,'Autrement dit, plut\xf4t que d\'avoir\nplein de serveurs s\xe9par\xe9s qui stockent chacun peu ou prou\nles m\xeames donn\xe9es (carte, utilisateurs, \xe9v\xe8nements, etc... ),\nnous mutualisons tout un territoire sur une seule "Stack".'),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"/img/federons/07-tenant-part1.png",src:n(9833).Z,width:"862",height:"862"})),(0,a.kt)("p",null,"Certaines donn\xe9es, comme\nles utilisateurs et l'agenda sont\npartag\xe9es entre tous les acteurs."),(0,a.kt)("p",null,"D'autre sont uniques\n\xe0 chaque instance :\n\xc9v\xe8nements, adh\xe9sions, information g\xe9n\xe9rales, cartes cashless\netc ..."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"/img/federons/08-samedata.png",src:n(9930).Z,width:"900",height:"535"})),(0,a.kt)("p",null,"Mais surtout, ce syst\xe8me nous permet de faire une pr\xe9sentation\nde TOUS les \xe9v\xe8nements pr\xe9sents dans l'instance:\nNous l'avions nomm\xe9 la META, mais bon... Yen a un qui nous\na piqu\xe9 le nom xD ..."),(0,a.kt)("p",null,"Et hop ! Agenda F\xe9d\xe9r\xe9 !"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"/img/federons/09-agenda.png",src:n(1932).Z,width:"997",height:"676"})),(0,a.kt)("p",null,"Ici nous parlons de concerts et d'artiste.\nMais il est tout \xe0 fait possible d'imaginer des r\xe9unions,\ndes march\xe9s d\u2019artisans, des festivals,\ndes locations de salle de r\xe9petes, des randonn\xe9es\netc etc ..."),(0,a.kt)("p",null,"C'est un moteur \xe9v\xe8nementiel de donn\xe9es partag\xe9es.\nLes id\xe9es qui permettent de l'exploiter sont nombreuses !"),(0,a.kt)("p",null,"\xc0 l'heure o\xf9 nous \xe9crivons ces lignes\n(octobre 2022), ce syst\xe8me est pr\xeat\net mis en production depuis quelques jours."),(0,a.kt)("p",null,"A vous de le tester !\nVenez discuter avec nous pour vos retours et vos id\xe9es !"),(0,a.kt)("h2",{id:"et-ma-carte-dans-tout-\xe7a-"},"Et ma carte dans tout \xe7a ?"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"/img/federons/10-rapport.png",src:n(9829).Z,width:"734",height:"495"})),(0,a.kt)("p",null,"On y vient !\nC'est la suite logique, non ?\nEt si nous ajoutions dans les donn\xe9es communes les\ncartes NFC d\xe9ja utilis\xe9es par les lieux ?"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"/img/federons/11-cartecashless.png",src:n(8914).Z,width:"465",height:"419"})),(0,a.kt)("p",null,"Apr\xe8s l'agenda, lib\xe9rons les cartes NFC !"),(0,a.kt)("p",null,"\xc0 suivre dans la 3\u1d49 partie ..."))}c.isMDXComponent=!0},8138:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/06-blockcentral-c36d5775e1f74ea5dbbed9ad636c5c1e.png"},9833:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/07-tenant-part1-32c7118ff12f74b4e3368b090331f8a2.png"},9930:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/08-samedata-d02c89a2d4098645a57caa17f5273153.png"},1932:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/09-agenda-84b1465c66c5ac26bbba4a57219b3c03.png"},9829:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/10-rapport-970f0ed4e826a603382f615f4a9473a0.png"},8914:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/11-cartecashless-c3dc699e6dd3807fd2238cc4489b4c67.png"}}]);